@use '../variables/breakpoints' as bp;

.navbar {

	position: sticky;

	display: flex;
	gap: 1.5rem;
	flex-direction: row;
	align-items: center;
	flex-wrap: wrap;
	z-index: 999;

	padding: 0.8rem 1rem;
	margin-bottom: 1.5rem;

	background-color: var(--clr-accent-dark);
	box-shadow: 0 0 1rem rgb(black, 0.7);
	color: var(--clr-accent-light);
	line-height: 1;

	a {
		color: var(--clr-accent-light);
		text-decoration: none;
	}


	.logo {
		font-size: 2em;

		+ .title { margin-left: -0.5rem; }
	}

	.title {
		font-size: 1.4em;
		font-family: Helmet Neue;

		display: flex;
		flex-direction: row;
		align-items: center;
		gap: 0.5rem;

		.icon { height: 1.5em; }
	}

	.space { flex-grow: 1; }


	.links {
		flex-grow: 1;
		display: flex;
		gap: 1.5rem;
		flex-direction: row;
		align-items: center;

		@include bp.mq-min(small) {
			> *:not(.space) {
				position: relative;

				opacity: 0.8;
				transition: opacity 0.2s ease;

				&::after {
					content: '';
					position: absolute;
					left: 0;
					bottom: -0.3rem;
					height: 0.1rem;
					background-color: var(--clr-accent-light);

					right: 100%;
					transition: right 0.2s ease;
				}

				&:hover {
					opacity: 1;

					&::after { right: 25%; }
				}
			}
		}

		@include bp.mq-max(small) {
			position: absolute;
			top: 100%;
			left: 0;
			right: 0;

			flex-direction: column;
			align-items: stretch;
			gap: 0;

			background-color: var(--clr-accent-dark);

			overflow-y: hidden;
			transition: max-height 0.2s ease;
			max-height: 0;

			&.open { box-shadow: 0 1rem 1rem -1rem rgb(black, 0.7); }

			> * { padding: 0.5rem 1rem; }
			> *:last-child { padding-bottom: 0.8rem; }

			.space { display: none; }
		}
	}

	.toggler {
		height: 2em;
		min-width: 2em;
		margin-left: auto;
		display: none;

		border: 1px solid var(--clr-accent-dark-lighter);
		border-radius: 0.4rem;

		background: none;
		font-size: 1em;
		color: var(--clr-accent-dark-lighter);

		align-items: center;
		justify-content: center;

		cursor: pointer;

		@include bp.mq-max(small) { display: flex; }

		// complex selector, to be simply overridable:
		//   - it's simple to use own Font Awesome icon
		//   - it's simple to use own content with .empty
		:where(&:not(.empty))::before {
			content: '\f0c9';
			font-family: 'Font Awesome 6 Free';
			font-weight: 900;
		}
	}

}
